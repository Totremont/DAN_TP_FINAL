generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

type PedidoStatusHistory {
  date   DateTime
  status String
}

model Opinion {
  id       String  @id @default(auto()) @map("_id") @db.ObjectId
  order    Pedido  @relation(fields: [order_id], references: [id])
  order_id String  @unique @db.ObjectId
  rating   Int
  summary  String
  title    String
}

model Pedido {
  id             String                @id @default(auto()) @map("_id") @db.ObjectId
  amount         Int
  client_id      Int
  created        DateTime              @default(now())
  discount       Int
  price          Float
  product_id     Int
  seller_id      Int
  status_history PedidoStatusHistory[]
  review         Opinion?
}
